# Django проект работающий с библиотекой Stripe

## Описание

Это компактный Django-магазин с интеграцией Stripe API, позволяющий продавать уникальные товары в единичном экземпляре.

На главной странице представлены товары с возможностью перейти к детальному описанию, купить сразу или добавить в корзину.

Корзина доступна по отдельной кнопке и позволяет просмотреть выбранные товары, общую стоимость и при необходимости очистить её.

Добавление скидок и налогов возможно только через админ панель.

## API

- GET /item/{item_id}

  Получение страницы, содержащей информацию о предмете под конкретным item_id


- GET /buy/{item_id}

  Переадрессовка на страницу покупки конкретного товара под item_id


- GET /buy/{order_id} 

  Переадрессовка на страницу для покупки заказа под конкретный order_id


- GET /add_item/{item_id}

  Добавление предмета под item_id к текущему заказу


- GET /add_discount/{discount_name}

  С помощью этого запроса к текущему заказу добавляется скидка под именем discount_name


- GET /clear_cart

  Очищает текущий заказ от всех скидок, налогов и предметов


## Запуск проекта

Клонирование репозитория

```bash
git clone git@github.com:Ventemanna/StripeProject.git
cd StripeProject/payment_site
```

Обязательно добавьте файл .env в папке StripeProject/payment_site, в нем будут храниться secret и public ключи для подключения к Stripe
```bash
SECRET_STRIPE_KEY="sk_test_..."
PUBLIC_STRIPE_KEY="pk_test_"

SECRET_STRIPE_KEY_USD="sk_test_...."
SECRET_STRIPE_KEY_RUB="sk_test_...."
```

Запускаем контейнеры
```bash
docker compose build
docker compose up
```

Теперь вы можете воспользоваться сайтом, зайдя по адресу `127.0.0.1:8000/`.

После первого запуска автоматические создается суперюзер: 

```
login: admin 
password: adminpass
```

Админ панель доступна по адресу:
http://127.0.0.1:8000/admin/